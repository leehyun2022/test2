<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Axios</title>

</head>

<body>

  <div id="app">

    <button v-on:click="getData">get user</button>

    <div>

      {{ users }}

    </div>

  </div>

 

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <script>

    new Vue({

      el: '#app',

      data: {

        users: []

      },

      methods: {

        getData: function() {

          var vm = this;

          axios.get('https://jsonplaceholder.typicode.com/users/') //사용자정보 배열 테스트데이터

            .then(function(response) { //then 응답성공

              console.log(response.data);

              vm.users = response.data;
				alert(" vm.users::"+ vm.users);
              //this.users = response.data; //axios.get 호출전,후의 this는 다름

                                            //호출하기전의 this는 기본적인 인스턴스, 컴포넌트를 바라보는 this

                                            //then() 호출후의 this는 비동기처리 후 실행컨텍스트가 바뀐 this

            })

            .catch(function(error) { //catch 응답실패

              console.log(error);

            });

        }

      }

    })

  </script>

</body>

</html>


